(()=>{var e={216:()=>{},614:()=>{game={},function(e){function t(e,t,r){for(;t;){var i=Math.random()*(M-2)+1>>0,l=Math.random()*(E-2)+1>>0;v[l][i].type==m&&(v[l][i]=new n(e,r),t--)}}function n(e,t){this.type=e,this.level=t}function r(){g[h.y][h.x]=!0,g[h.y-1][h.x]=!0,g[h.y+1][h.x]=!0,g[h.y][h.x-1]=!0,g[h.y][h.x+1]=!0}function i(t,n){var i=v[h.y+n][h.x+t];return!(i.type==T||Math.abs(i.level-h.level)>1||(h.x+=t,h.y+=n,h.level=i.level,r(),s++,i.type==b&&(d=!0),(d||!x)&&e.draw(),0))}function l(e,t,n,r,i){e.save(),e.fillStyle=i||"#333",e.font="12px Arial",e.textAlign="center",e.fillText(r,t,n+5),e.restore()}var o,a,c,f,u,p,y,s,h,d,v=[],g=[],w={},x=!1,m=0,T=1,b=3,S=["#0cf","#3f0","#af0","#ff0","#fa0","#f70","#f42"],M=18,E=18,k=50;!function(e){function i(){y={left:{type:v[h.y][h.x-1].type,level:v[h.y][h.x-1].level},up:{type:v[h.y-1][h.x].type,level:v[h.y-1][h.x].level},right:{type:v[h.y][h.x+1].type,level:v[h.y][h.x+1].level},down:{type:v[h.y+1][h.x].type,level:v[h.y+1][h.x].level},type:v[h.y][h.x].type,level:v[h.y][h.x].level};var e=R.turn(y);return w[e](),d?(H=(new Date).getTime(),N.push(H-_),L.push(s),$("h2").html("You Won! Turns: "+s+" Javascript Time: "+(H-_)),L.length>1&&S(),J.fillRect(0,0,++q/B*400,18),B>q?setTimeout(l,0):S(),!0):(x||(o=setTimeout(i,k)),!1)}function l(){clearTimeout(o),e.init(),_=(new Date).getTime(),R=new Stacker,x=$("#ultrafast").prop("checked");for(var t=i();x&&!t;)t=i()}function S(){$("h3").html("Average for "+L.length+" runs: "+C(L)+" turns, "+C(N)+"ms")}function C(e){for(var t=0,n=0;t<e.length;n+=e[t++]);return Math.round(n/e.length)}function j(e,t,n,r){return!!function(e,t){var n=[];n.push(new I(e.x,e.y,0,v[e.y][e.x].level));for(var r,i,l=0,o=n[l];o.x!=t.x||o.y!=t.y;){r=P(o);for(var a=0;a<r.length;a++)-1===(i=A(n,r[a]))?n.push(r[a]):n[i].dist>r[a].dist&&(n[i]=r[a]);if(l==n.length-1)return!1;o=n[++l]}return!0}(new I(e,t),new I(n,r))}function I(e,t,n,r){this.x=e,this.y=t,this.dist=n,this.level=r}function A(e,t){for(var n=0;n<e.length;n++)if(t.x===e[n].x&&t.y===e[n].y)return n;return-1}function D(e,t){return 0==t||2==t?e:3==t?e-1:e+1}function O(e,t){return 3==t||1==t?e:0==t?e-1:e+1}function P(e){for(var t,n=[],r=0;4>r;r++)4!=(t=v[O(e.y,r)][D(e.x,r)]).type&&t.type!=T&&n.push(new I(D(e.x,r),O(e.y,r),e.dist+1,t.level));return n}var R,_,H,q,B,F,J=$("#progress")[0].getContext("2d"),L=[],N=[];e.init=function(){v=[],g=[];for(var i=0;E>i;i++){v[i]=[],g[i]=[];for(var l=0;M>l;l++)g[i][l]=!1,v[i][l]=new n(0==i||i==E-1||0==l||l==M-1?T:m,0)}t(2,50,1),t(T,50,0);var o=Math.random()*(M-6)+3>>0,y=Math.random()*(E-6)+3>>0;for(v[y][o]=new n(b,8),i=0;5>i;i++)for(l=0;5>l;l++)v[y-2+l][o-2+i].type==T&&(v[y-2+l][o-2+i]=new n(m,0));for(var w=0,x=0;v[x][w].type!=m||!j(w,x,o,y);)w=Math.random()*(M-2)+1>>0,x=Math.random()*(E-2)+1>>0;h={x:w,y:x,level:0},r(),a=$("#field"),f=a[0].getContext("2d"),u=a.width()/M>>0,p=a.height()/E>>0,s=0,d=!1;var S=new Image;(c=document.createElement("canvas")).width=u,c.height=p,S.onload=function(){c.getContext("2d").drawImage(S,0,0,100,100,0,0,u,p),e.draw()},S.src="minitroll.png",S.complete&&(c.getContext("2d").drawImage(S,0,0,100,100,0,0,u,p),e.draw()),e.draw()},e.run=function(e){$("h2").html("Running Trials...."),$("#progress")[0].width=$("#progress")[0].width,J.fillStyle="#09f",B=e,q=0,L=[],N=[],l()},e.pause=function(){o&&(F?(F=!1,i()):(F=!0,clearTimeout(o)))},I.prototype.equals=function(e){return e.x==this.x&&e.y==this.y}}(e),e.draw=function(){a[0].width=a[0].width;for(var e=$("#reveal-map").prop("checked"),t=0;E>t;t++)for(var n=0;M>n;n++){if(y=v[t][n],e||g[t][n])if(y.type==T)f.fillStyle="#4d4d4d";else if(2==y.type)f.fillStyle=S[y.level-1];else{if(y.type!=b)continue;f.fillStyle="#f0a"}else f.fillStyle="#331700";f.fillRect(n*u,t*p,u,p),y.level&&(e||g[t][n])&&l(f,n*u+u/2,t*p+p/2,y.level)}f.drawImage(c,0,0,u,p,h.x*u,h.y*p,u,p),f.fillStyle="#fff",l(f,u*M-100,12,"Turns: "+s,"#fff")},w.left=function(){i(-1,0)},w.up=function(){i(0,-1)},w.right=function(){i(1,0)},w.down=function(){i(0,1)},w.pickup=function(){return!h.carrying&&2==v[h.y][h.x].type&&(h.carrying=!0,v[h.y][h.x].type=--v[h.y][h.x].level>0?2:m,h.level--,s++,x||e.draw(),!0)},w.drop=function(){return!!h.carrying&&(h.carrying=!1,v[h.y][h.x].type=2,v[h.y][h.x].level++,h.level++,s++,x||e.draw(),!0)},e.setDelay=function(e){k=e},e.getDelay=function(){return k},e.test=function(e){37==e.which?i(-1,0):38==e.which?i(0,-1):39==e.which?i(1,0):40==e.which?i(0,1):32==e.which&&(w.pickup()||w.drop())}}(game)},562:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&!e;)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";const e=n.p+"4d3bc3ffda9d1c800856.png";var t=n(216),r=n.n(t),i=n(562),l=n.n(i),o=n(614),a=n.n(o);document.body.appendChild(function(){const t=document.createElement("div"),n=document.createElement("script"),i=document.createElement("script"),o=document.createElement("script");n.src=r(),i.src=l(),o.src=a(),t.innerHTML=_.join(["Hello","webpack"]," ");const c=new Image;return c.src=e,t.appendChild(c),t}())})()})();